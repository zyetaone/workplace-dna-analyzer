# ðŸš€ Coolify Deployment Guide

## Prerequisites

- **Coolify server** running and accessible
- **Domain**: zyetaApp.rdtect.com configured in Coolify
- **Git repository** accessible by Coolify

## Quick Coolify Deployment

### 1. Add New Service
1. Go to your Coolify dashboard
2. Click "Add Service" â†’ "Docker Compose"
3. Connect your Git repository
4. Set the following:

### 2. Service Configuration
```yaml
# This will be auto-generated by Coolify
# Just provide the repository URL and branch
```

### 3. Environment Variables
Set these in Coolify's environment section:

```env
NODE_ENV=production
DATABASE_URL=file:/app/data/local.db
# Optional: Add OpenAI API key for AI insights
# OPENAI_API_KEY=your-api-key-here
```

### 4. Domain Configuration
- Set domain: `zyetaApp.rdtect.com`
- Coolify will automatically handle SSL certificates
- No need to configure Nginx manually

### 5. Deploy
- Click "Deploy" in Coolify
- Coolify will build and deploy automatically
- SSL certificate will be provisioned automatically

## Coolify Features Used

âœ… **Automatic SSL** - Let's Encrypt certificates
âœ… **Reverse Proxy** - Built-in Caddy server
âœ… **Health Checks** - Automatic monitoring
âœ… **Auto-scaling** - Based on resource usage
âœ… **Backup Management** - Database backups
âœ… **Environment Management** - Secure variable handling
âœ… **Log Management** - Centralized logging

## Monitoring

### Coolify Dashboard
- View real-time logs
- Monitor resource usage
- Check health status
- Manage deployments

### Health Checks
```bash
# Check via Coolify dashboard or:
curl https://zyetaApp.rdtect.com/
```

## Database Management

### Automatic Setup
- Coolify handles volume mounting
- Database initializes automatically
- Migrations run on first deploy

### Manual Database Access
```bash
# Via Coolify terminal
cd /app/data
sqlite3 local.db
```

## Updates

### Automatic Updates
1. Push changes to your repository
2. Coolify detects changes
3. Automatic redeployment
4. Zero-downtime updates

### Manual Updates
1. Go to service in Coolify
2. Click "Redeploy"
3. Coolify handles the rest

## Troubleshooting

### Common Coolify Issues

**Build Failures:**
- Check build logs in Coolify dashboard
- Verify environment variables
- Check repository access

**SSL Issues:**
- Coolify handles SSL automatically
- Check domain DNS configuration
- Wait for certificate provisioning (can take a few minutes)

**Database Issues:**
- Check volume mounting in Coolify
- Verify DATABASE_URL environment variable
- Check database file permissions

## Coolify Advantages

- âœ… **No manual server management**
- âœ… **Automatic SSL certificates**
- âœ… **Built-in monitoring and alerts**
- âœ… **One-click deployments**
- âœ… **Automatic backups**
- âœ… **Resource optimization**
- âœ… **Security hardening**
- âœ… **LibSQL Compatible** - SQLite with WAL mode works perfectly

## LibSQL Configuration

Your app uses **LibSQL** (SQLite-compatible database) which works excellently with Coolify:

### Database Setup
- **File-based SQLite** with WAL mode for concurrent access
- **Automatic initialization** on first startup
- **Persistent storage** via Coolify volumes
- **No external database** required

### Environment Variables
```env
DATABASE_URL=file:/app/data/local.db
```

### Performance Features
- **WAL2 mode** for better concurrency
- **Optimized pragmas** for production
- **Automatic migrations** on startup

## Support

For Coolify-specific issues:
- Check Coolify documentation
- View service logs in dashboard
- Contact Coolify support

For app-specific issues:
- Check application logs
- Verify environment variables
- Test API endpoints

---

**ðŸŽ‰ Your app is now deployed with Coolify at https://zyetaApp.rdtect.com!**

**Coolify handles all the complexity - just push your code and it deploys automatically!** ðŸš€